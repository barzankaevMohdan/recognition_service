# üöÄ Recognition Service - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –Ω–∞ macOS

Python —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –ª–∏—Ü —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º InsightFace.

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. Python
**–í–µ—Ä—Å–∏—è:** Python 3.10 –∏–ª–∏ 3.11 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 3.10)

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** Python 3.12+ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ (dlib, opencv).

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Homebrew:**
```bash
# Python 3.11 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
brew install python@3.11

# Python 3.10
brew install python@3.10
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**
```bash
python3 --version
pip3 --version
```

> üí° –ù–∞ macOS –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `python3` –∏ `pip3` –≤–º–µ—Å—Ç–æ `python` –∏ `pip`

---

### 2. CMake –∏ Build Tools
**–ù–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Homebrew:**
```bash
brew install cmake
```

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Xcode Command Line Tools:**
```bash
xcode-select --install
```

---

### 3. FFmpeg (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
**–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞–º–∏**

```bash
brew install ffmpeg
```

---

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
cd recognition_service
python3 -m venv .venv
```

---

### –®–∞–≥ 2: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
source .venv/bin/activate
```

> üí° –î–ª—è –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `deactivate`

---

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install --upgrade pip
pip install -r requirements.txt
```

> ‚ö†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 5-10 –º–∏–Ω—É—Ç. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–∞–∫–µ—Ç—ã (dlib, opencv, insightface) —Ç—Ä–µ–±—É—é—Ç –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–µ–π.

**–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `insightface` - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –ª–∏—Ü
- `opencv-python-headless` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- `onnxruntime` - –∑–∞–ø—É—Å–∫ –º–æ–¥–µ–ª–µ–π
- `numpy` - –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- `requests` - HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ Backend

---

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `env.example`:
```bash
cp env.example .env
```

–û—Ç–∫—Ä–æ–π—Ç–µ `.env` –∏ —É–∫–∞–∂–∏—Ç–µ:
```env
COMPANY_SLUG=demo-company
BACKEND_URL=http://localhost:3000
REFRESH_INTERVAL=60
LOG_LEVEL=INFO
```

**–û–ø–∏—Å–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:**
- `COMPANY_SLUG` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–æ–º–ø–∞–Ω–∏–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–º–µ—Ä
- `BACKEND_URL` - –∞–¥—Ä–µ—Å Backend API
- `REFRESH_INTERVAL` - –∏–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∫–∞–º–µ—Ä (—Å–µ–∫—É–Ω–¥—ã)
- `LOG_LEVEL` - —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (DEBUG, INFO, WARNING, ERROR)

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

### –û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–∂–∏–º (Multi-Camera)

–Ω–µ–ª—å–∑—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–º–∞–Ω–¥—ã, –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—è

```bash
source recognition_service/.venv/bin/activate
python3 -m recognition_service.main
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞–º–µ—Ä—ã –∫–æ–º–ø–∞–Ω–∏–∏
- ‚úÖ –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π –∫–∞–º–µ—Ä—ã —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É –æ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–Ω–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è
- ‚úÖ –ö–∞–∂–¥–∞—è –∫–∞–º–µ—Ä–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
- ‚úÖ –û–±—â–∏–π –∫—ç—à InsightFace –º–æ–¥–µ–ª–∏ –∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –¥–ª—è –≤—Å–µ—Ö –∫–∞–º–µ—Ä

---

### –û—Ç–ª–∞–¥–æ—á–Ω–æ–µ –≤–∏–¥–µ–æ

–ö–∞–∂–¥–∞—è –∫–∞–º–µ—Ä–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫ —Å –Ω–∞—Ä–∏—Å–æ–≤–∞–Ω–Ω—ã–º–∏ bounding boxes –∏ –∏–º–µ–Ω–∞–º–∏:

- –ö–∞–º–µ—Ä–∞ 1: `http://localhost:5001/video_feed`
- –ö–∞–º–µ—Ä–∞ 2: `http://localhost:5002/video_feed`
- –ö–∞–º–µ—Ä–∞ N: `http://localhost:500N/video_feed`

> üí° –ü–æ—Ä—Ç —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ `5000 + camera_id`

---

## üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º

```bash
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è
source .venv/bin/activate

# –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è
deactivate

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt --upgrade

# –°–æ–∑–¥–∞–Ω–∏–µ requirements.txt
pip freeze > requirements.txt
```

---

### –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞

```bash
# –û—á–∏—Å—Ç–∫–∞ Python –∫—ç—à–∞
find . -type d -name "__pycache__" -exec rm -rf {} +
find . -type f -name "*.pyc" -delete

# –£–¥–∞–ª–µ–Ω–∏–µ –∫—ç—à–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
rm -f face_encodings_cache.pkl
```

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Python –ø–∞–∫–µ—Ç–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞ —Å dlib/cmake:**
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã Xcode Command Line Tools
xcode-select --install

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ CMake
brew install cmake

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å dlib –æ—Ç–¥–µ–ª—å–Ω–æ
pip install dlib
```

**–ü—Ä–æ–±–ª–µ–º–∞ —Å opencv:**
```bash
# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å headless –≤–µ—Ä—Å–∏—é
pip install opencv-python-headless==4.5.5.64
```

**–ü—Ä–æ–±–ª–µ–º–∞ —Å numpy:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –≤–µ—Ä—Å–∏—é
pip install numpy==1.24.3
```

---

### –û—à–∏–±–∫–∞: "Cannot connect to backend"

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ `http://localhost:3000`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `BACKEND_URL` –≤ `.env`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–º–ø–∞–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:
  ```bash
  curl http://localhost:3000/companies
  ```

---

### –û—à–∏–±–∫–∞: "Failed to open camera"

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Camera Gateway –∑–∞–ø—É—â–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –∫–∞–º–µ—Ä—ã: `http://localhost:4000/streams/{camera_id}.mjpg`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Camera Gateway

---

### –û—à–∏–±–∫–∞: "No module named 'insightface'"

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ
source .venv/bin/activate

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ insightface
pip install insightface --upgrade
```

---

### –ü—Ä–æ–±–ª–µ–º—ã —Å Apple Silicon (M1/M2/M3)

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–∞–∫–µ—Ç—ã –º–æ–≥—É—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —á–µ—Ä–µ–∑ Rosetta:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Rosetta (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞)
softwareupdate --install-rosetta

# –î–ª—è –ø—Ä–æ–±–ª–µ–º —Å dlib –Ω–∞ ARM:
arch -x86_64 pip install dlib
```

---

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
recognition_service/
‚îú‚îÄ‚îÄ recognition/               # –ú–æ–¥—É–ª–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ matching.py           # –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ª–∏—Ü
‚îÇ   ‚îú‚îÄ‚îÄ preprocessing.py      # –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ presence.py           # –õ–æ–≥–∏–∫–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ quality.py            # –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
‚îÇ   ‚îî‚îÄ‚îÄ tracker.py            # –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ª–∏—Ü
‚îú‚îÄ‚îÄ utils/                    # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ cache.py              # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ timing.py             # –ó–∞–º–µ—Ä—ã –≤—Ä–µ–º–µ–Ω–∏
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ app.py                    # Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è debug –≤–∏–¥–µ–æ
‚îú‚îÄ‚îÄ camera.py                 # –†–∞–±–æ—Ç–∞ —Å –∫–∞–º–µ—Ä–æ–π
‚îú‚îÄ‚îÄ config.py                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ employees.py              # –†–∞–±–æ—Ç–∞ —Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏
‚îú‚îÄ‚îÄ events.py                 # –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏–π
‚îú‚îÄ‚îÄ face_app.py               # InsightFace –º–æ–¥–µ–ª—å
‚îú‚îÄ‚îÄ logging_config.py         # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ main.py                   # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (multi-camera)
‚îú‚îÄ‚îÄ multi_camera_manager.py   # –ú–µ–Ω–µ–¥–∂–µ—Ä –∫–∞–º–µ—Ä
‚îú‚îÄ‚îÄ streaming.py              # –°—Ç—Ä–∏–º–∏–Ω–≥ –≤–∏–¥–µ–æ
‚îú‚îÄ‚îÄ video_loop.py             # –ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏
‚îú‚îÄ‚îÄ .env                      # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt          # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ SETUP_MACOS.md           # –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
```

---

## üß† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ú–æ–¥–µ–ª—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
- **InsightFace** (buffalo_l) - high accuracy –º–æ–¥–µ–ª—å
- **ONNX Runtime** - –±—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- **–≠–º–±–µ–¥–¥–∏–Ω–≥–∏ 512 —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏**

### –ê–ª–≥–æ—Ä–∏—Ç–º
1. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞–¥—Ä–∞ —Å –∫–∞–º–µ—Ä—ã
2. –î–µ—Ç–µ–∫—Ü–∏—è –ª–∏—Ü (InsightFace)
3. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
4. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –±–∞–∑–æ–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (cosine similarity)
5. –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ª–∏—Ü –º–µ–∂–¥—É –∫–∞–¥—Ä–∞–º–∏ (tracker)
6. –õ–æ–≥–∏–∫–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏—è (cooldown –ø–µ—Ä–∏–æ–¥)
7. –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏—è –≤ Backend

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **FPS:** 5-10 –∫–∞–¥—Ä–æ–≤/—Å–µ–∫ –Ω–∞ –∫–∞–º–µ—Ä—É (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∂–µ–ª–µ–∑–∞)
- **Latency:** ~100-200ms –Ω–∞ –∫–∞–¥—Ä
- **–¢–æ—á–Ω–æ—Å—Ç—å:** >95% –ø—Ä–∏ —Ö–æ—Ä–æ—à–µ–º –æ—Å–≤–µ—â–µ–Ω–∏–∏

---

## üìö API –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

Recognition Service –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç Flask API –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:

- `GET /video_feed` - MJPEG –ø–æ—Ç–æ–∫ —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π
- `GET /health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–ü–æ—Ä—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: `5000 + camera_id`

---

## üí° –°–æ–≤–µ—Ç—ã –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. **–£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –≤–∏–¥–µ–æ** –≤ Camera Gateway –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ GPU** –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω (—Ç—Ä–µ–±—É–µ—Ç onnxruntime-gpu)
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ REFRESH_INTERVAL** –±–æ–ª—å—à–µ 60 —Å–µ–∫—É–Ω–¥ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
4. **–û—á–∏—â–∞–π—Ç–µ –∫—ç—à** –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –ø–∞–º—è—Ç–∏

---

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã, –æ—Ç–∫—Ä–æ–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏! üöÄ
